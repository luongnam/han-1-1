window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return i(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({EdbLoDeController:[function(t,e,o){"use strict";cc._RF.push(e,"35f77OSJ31JQbf9to+vZSQa","EdbLoDeController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Scritps/Windown"),s=cc._decorator,c=s.ccclass,l=s.property,p={PRICE:1,TOTAL_BET:2,INPUT_NUMBER:3},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbPrice=null,e.edbTotalBet=null,e.lbLabelOn=null,e.lbTotalWin=null,e.TYPE_EDB=p.PRICE,e.listNumber=[],e}var o;return i(e,t),o=e,e.prototype.start=function(){},e.prototype.initInfo=function(){this.TYPE_EDB==p.TOTAL_BET&&(3==a.Windown.LoDe.typeBet?this.edbTotalBet.getComponent(o).lbLabelOn.string=a.Windown.LoDe.priceLo+"":this.edbTotalBet.getComponent(o).lbLabelOn.string="1",this.edbTotalBet.string=this.lbLabelOn.string,this.edbTotalBet.textLabel.node.active=!1),this.TYPE_EDB==p.PRICE&&(this.edbPrice.getComponent(o).lbLabelOn.string="1",this.edbPrice.string="1",this.edbPrice.textLabel.node.active=!1),a.Windown.LoDe.edbNumberBet.getComponent(o).lbLabelOn.string="",this.lbLabelOn.node.active=!0;var t=a.Windown.LoDe.totalWinPerNum=parseInt(this.edbPrice.getComponent(o).lbLabelOn.string)*this.getRateAndPrice("rate")*1e3;this.lbTotalWin.string=a.Windown.formatMoney(t),a.Windown.LoDe.totalWinPerNum=t},e.prototype.onEdbBegin=function(){this.lbLabelOn.node.active=!1,this.getComponent(cc.EditBox).string="",this.getComponent(cc.EditBox).textLabel.node.active=!0},e.prototype.getRateAndPrice=function(t){var e=1,o=1;switch(a.Windown.LoDe.typeBet){case 1:e=a.Windown.LoDe.priceDe,o=a.Windown.LoDe.rateDe;break;case 2:e=a.Windown.LoDe.price3Cang,o=a.Windown.LoDe.rate3Cang;break;case 3:e=a.Windown.LoDe.priceLo,o=a.Windown.LoDe.rateLo;break;case 4:o=a.Windown.LoDe.rateLoXien2,e=a.Windown.LoDe.priceLoXien2;break;case 5:o=a.Windown.LoDe.rateLoXien3,e=a.Windown.LoDe.priceLoXien3;break;case 6:o=a.Windown.LoDe.rateLoXien4,e=a.Windown.LoDe.priceLoXien4}return"rate"==t?o:e},e.prototype.onEdbEnd=function(){if(""==this.getComponent(cc.EditBox).string)return this.edbPrice.getComponent(o).initInfo(),void this.edbTotalBet.getComponent(o).initInfo();this.getComponent(cc.EditBox).textLabel.node.active=!1,this.lbLabelOn.node.active=!0;var t=this.getRateAndPrice("price"),e=(this.getRateAndPrice("rate"),a.Windown.LoDe.edbNumberBet.getComponent(o).listNumber);if(this.TYPE_EDB==p.PRICE&&(this.lbLabelOn.string=parseInt(this.edbPrice.string)+"",this.edbTotalBet.getComponent(o).lbLabelOn.string=parseInt(this.edbPrice.string)*t*e.length+"",this.lbTotalWin.string=a.Windown.formatMoney(this.getTotalWin(),2),a.Windown.LoDe.totalWinPerNum=parseFloat(this.getTotalWin()),this.edbTotalBet.string=this.edbTotalBet.getComponent(o).lbLabelOn.string),this.TYPE_EDB==p.TOTAL_BET){var n=parseInt(this.edbTotalBet.string);3==a.Windown.LoDe.typeBet&&(n=n<a.Windown.LoDe.priceLo?a.Windown.LoDe.priceLo:n),this.lbLabelOn.string=n+"",this.edbPrice.getComponent(o).lbLabelOn.string=(n/t/e.length).toFixed(2).replace(/\.00$/,""),this.lbTotalWin.string=a.Windown.formatMoney(this.getTotalWin(),2),a.Windown.LoDe.totalWinPerNum=parseFloat(this.getTotalWin())}},e.prototype.getTotalWin=function(){var t=this.getRateAndPrice("rate"),e=parseFloat(this.edbPrice.getComponent(o).lbLabelOn.string);return a.Windown.LoDe.totalWinPerNum=e,1e3*t*e+""},e.prototype.onEdbNumberEnd=function(t){if(""!=t.string){var e=t.string.replace(/\D/g,""),n=void 0;2!=a.Windown.LoDe.typeBet?1==(n=e.match(/.{1,2}/g))[n.length-1].length&&n.pop():(n=e.match(/.{1,3}/g))[n.length-1].length<3&&n.pop(),this.listNumber=n.map(Number);var i=n.join("-");this.lbLabelOn.string=i,this.lbLabelOn.node.active=!0,this.getComponent(cc.EditBox).string=i,this.getComponent(cc.EditBox).textLabel.node.active=!1;var r=this.getRateAndPrice("price");this.edbTotalBet.getComponent(o).lbLabelOn.string=(this.listNumber.length*this.edbPrice.getComponent(o).getNumberValue()*r).toFixed(2).replace(/\.00$/,"")}},e.prototype.onEdbNumberBegin=function(){this.lbLabelOn.node.active=!1,this.getComponent(cc.EditBox).string=this.lbLabelOn.string},e.prototype.getNumberValue=function(){return parseFloat(this.lbLabelOn.string)},e.prototype.onClickClear=function(){this.listNumber=[],this.getComponent(o).lbLabelOn.string="",this.getComponent(cc.EditBox).string="",this.edbPrice.getComponent(o).initInfo(),this.edbTotalBet.getComponent(o).initInfo()},r([l(cc.EditBox)],e.prototype,"edbPrice",void 0),r([l(cc.EditBox)],e.prototype,"edbTotalBet",void 0),r([l(cc.Label)],e.prototype,"lbLabelOn",void 0),r([l(cc.Label)],e.prototype,"lbTotalWin",void 0),r([l],e.prototype,"TYPE_EDB",void 0),o=r([c],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],ItemLichSuLoDe:[function(t,e,o){"use strict";cc._RF.push(e,"7cfe6Rj4HVE9aEoA1sXzyp8","ItemLichSuLoDe");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Scritps/Windown"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDate=null,e.lbType=null,e.lbListNum=null,e.lbPrice=null,e.lbWin=null,e.lbResult=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){var e=new Date(t.getLong("time"));this.lbDate.string=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear(),this.lbType.string=this.getTypeBet(t.getInt("type"),t.getIntArray("listNumber")),this.lbListNum.string=t.getIntArray("listNumber").join("-");var o=(t.getLong("tiencuoc")/t.getIntArray("listNumber").length).toFixed(2).replace(/\.00$/,"");this.lbPrice.string=a.Windown.formatNumber(t.getLong("tiencuoc"))+"\n"+o+"/con";var n=new Date;n.getDate()<e.getDate()||n.getDate()==e.getDate()&&n.getHours()<18||18==n.getHours()&&n.getMinutes()<35?(this.lbResult.string="\u0110ang ch\u1edd",this.lbWin.string="-"):t.getLong("win")>0?(this.lbResult.string="Th\u1eafng",this.lbWin.string="+"+a.Windown.formatNumber(t.getLong("win")),this.lbWin.node.color=cc.Color.GREEN):(this.lbResult.string="Thua",this.lbWin.string="-"+a.Windown.formatNumber(t.getLong("tiencuoc")),this.lbWin.node.color=cc.Color.RED)},e.prototype.getTypeBet=function(t,e){var o="";switch(t){case 0:o="L\xf4 2 S\u1ed1";break;case 1:o="\u0110\u1ec1 \u0110\u1eb7c Bi\u1ec7t";break;case 2:o="Ba C\xe0ng";break;case 3:o="L\xf4 Xi\xean "+e.length}return o},r([l(cc.Label)],e.prototype,"lbDate",void 0),r([l(cc.Label)],e.prototype,"lbType",void 0),r([l(cc.Label)],e.prototype,"lbListNum",void 0),r([l(cc.Label)],e.prototype,"lbPrice",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([l(cc.Label)],e.prototype,"lbResult",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],LichSuLoDe:[function(t,e,o){"use strict";cc._RF.push(e,"87e0a1ziyhBg5ihK1tGDfxX","LichSuLoDe");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/REQUEST_CODE"),s=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),p=t("./ItemLichSuLoDe"),h=cc._decorator,u=h.ccclass,d=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.listData=null,e.maxRow=4,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=s.ConectManager.getIns().getSFSObj();l.Windown.LoDe.sendRequest(a.REQUEST_CODE.LichsuLoDe,t)},e.prototype.show=function(){l.Windown.actionEffectOpen(this.node.getChildByName("Container"))},e.prototype.onClickClose=function(){var t=this;l.Windown.actionEffectClose(this.node.getChildByName("Container"),function(){t.node.active=!1})},e.prototype.setInfo=function(t){this.listData=t.getSFSArray("history"),this.initWithListData(this.listData)},e.prototype.initWithListData=function(t){var e=t.size(),o=parseInt(e/this.maxRow);e%this.maxRow>0&&o++,0==o&&(o=1),this.pageDate.setTotalPage(o),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,o=e.children,n=o[0],i=(t-1)*this.maxRow,r=0,a=this.maxRow;r<a;r++){var s=o[r];if(i<this.listData.size()){null==s&&(s=cc.instantiate(n),e.addChild(s),s.y=-(r+1)*s.height+s.height/2);var c=this.listData.getSFSObject(i);s.getComponent(p.default).initItem(c),s.active=!0,i++}else{if(!s)break;s.active=!1}}},r([d(c.default)],e.prototype,"pageDate",void 0),r([u],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./ItemLichSuLoDe":"ItemLichSuLoDe"}],LoDeConfirmPopup:[function(t,e,o){"use strict";cc._RF.push(e,"21c041dXjJAQKKgCU9hGi9r","LoDeConfirmPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Scritps/Windown"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDate=null,e.lbTypeBet=null,e.lbNumberBet=null,e.lbPriceBet=null,e.lbTotalBet=null,e.lbWinBet=null,e.callBack=null,e}return i(e,t),e.prototype.onEnable=function(){a.Windown.actionEffectOpen(this.node.getChildByName("Container"))},e.prototype.start=function(){},e.prototype.setInfo=function(t,e,o,n,i,r,s){this.lbDate.string=t,this.lbTypeBet.string=this.getTypeBet(e),this.lbNumberBet.string=o,this.lbPriceBet.string=a.Windown.formatNumber(n),this.lbTotalBet.string=a.Windown.formatNumber(i),this.lbWinBet.string=a.Windown.formatNumber(r),this.callBack=s},e.prototype.getTypeBet=function(t){var e="";switch(t){case 1:e="\u0110\u1ec0 \u0110\u1eb6C BI\u1ec6T";break;case 3:e="L\xd4 T\xd4 2 S\u1ed0";break;case 2:e="3 C\xc0NG";break;case 4:e="XI\xcaN 2";break;case 5:e="XI\xcaN 3";break;case 6:e="XI\xcaN 4"}return e},e.prototype.onClickConfirm=function(){null!=this.callBack&&(this.callBack(),this.onClickClose())},e.prototype.onClickClose=function(){var t=this;a.Windown.actionEffectClose(this.node.getChildByName("Container"),function(){t.node.active=!1})},r([l(cc.Label)],e.prototype,"lbDate",void 0),r([l(cc.Label)],e.prototype,"lbTypeBet",void 0),r([l(cc.Label)],e.prototype,"lbNumberBet",void 0),r([l(cc.Label)],e.prototype,"lbPriceBet",void 0),r([l(cc.Label)],e.prototype,"lbTotalBet",void 0),r([l(cc.Label)],e.prototype,"lbWinBet",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],LoDeController:[function(t,e,o){"use strict";cc._RF.push(e,"bf5fbSyR/VJMoSX0ImZnDCh","LoDeController");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/TextDefine"),a=t("../../../Scritps/Game/GAME_TYPE"),s=t("../../../Scritps/Windown"),c=function(){function t(){}return t.prototype.intiGame=function(){return n(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,s.Windown.loadBundle(a.default.XocDia.toString())];case 1:return t=e.sent(),s.Windown.UIManager.showLoadingData(),t.preloadScene("Lode",{},function(t,e){s.Windown.UIManager.setPerData(t/e)},function(e){e?s.Windown.Dialog.showLog(r.TextDefine.Error):t.loadScene("Lode",function(t,e){if(t)return s.Windown.Dialog.showLog(r.TextDefine.Error),void s.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){s.Windown.UIManager.hideLoadingData()})})}),[2]}})})},t.prototype.start=function(){},t}();o.default=c,cc._RF.pop()},{"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Windown":void 0}],LoDeView:[function(t,e,o){"use strict";cc._RF.push(e,"1f429yTlyxHHbBYCVHob0bf","LoDeView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../DevDatePicker/DevDatePicker"),s=t("../../../Scritps/DefineTs/EVENT_MANAGER"),c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/DefineTs/TextDefine"),p=t("../../../Scritps/Game/GAME_TYPE"),h=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Network/Http"),d=t("../../../Scritps/Windown"),g=t("./EdbLoDeController"),b=t("./LichSuLoDe"),f=t("./LoDeConfirmPopup"),y=cc._decorator,L=y.ccclass,m=y.property,v={De:1,BaCang:2,Lo:3,LoXien2:4,LoXien3:5,LoXien4:6},C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgAudio=null,e.nodeBetLo=null,e.nodeBetDe=null,e.nodeBaCang=null,e.nodeLoXien=null,e.nodeResult=null,e.nodeThongKe=null,e.listNodeNumTK=[],e.nodeSetting=null,e.tglChangeSizeTK=null,e.datePickerResult=null,e.popupLichSu=null,e.edbPrice=null,e.edbTotalBet=null,e.popupConfirm=null,e.edbNumberBet=null,e.lbBalance=null,e.lbToday=null,e.lbPriceBet=null,e.lbTotalBet=null,e.lbTotalWin=null,e.lbDateCurrentResult=null,e.lbGiaiDB=null,e.lbGiaiNhat=null,e.lbGiai2=[],e.lbGiai3=[],e.lbGiai4=[],e.lbGiai5=[],e.lbGiai6=[],e.lbGiai7=[],e.sprUpDown=[],e.dateToday=new Date,e.result=null,e.typeTK="not",e.sizeTK=50,e.dataTK=null,e.gameType=0,e.sfs=null,e.objFinish=null,e.roomSFS=null,e.rateDe=95,e.priceDe=1,e.rateLo=99,e.priceLo=27,e.rate3Cang=900,e.price3Cang=1,e.rateLoXien2=17,e.priceLoXien2=1,e.rateLoXien3=65,e.priceLoXien3=1,e.rateLoXien4=250,e.priceLoXien4=1,e.totalWinPerNum=0,e.typeBet=v.Lo,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.datePickerResult.setDate(this.dateToday.getFullYear(),this.dateToday.getMonth(),this.dateToday.getDate()),this.datePickerResult.setPickDateCallback(function(e,o,n){t.lbDateCurrentResult.string=(n<10?"0"+n:n)+"-"+(o+1<10?"0"+(o+1):o+1),t.getResult(n,o+1,e),t.openDatePicker()})},e.prototype.start=function(){d.Windown.LoDe=this,this.gameType=p.default.Lode,this.sfs=h.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(s.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.sendJoinRoom(),this.setInfoView(),this.dateToday.getHours()<18||18==this.dateToday.getHours()&&this.dateToday.getMinutes()<35?this.getResult(this.dateToday.getDate()-1,this.dateToday.getMonth()+1,this.dateToday.getFullYear()):this.getResult(this.dateToday.getDate(),this.dateToday.getMonth()+1,this.dateToday.getFullYear()),this.getInfoThongKe(),this.edbPrice.initInfo(),this.edbTotalBet.initInfo(),cc.log("music=="+d.Windown.getLocalStorage("music")),"on"==d.Windown.getLocalStorage("music")?this.bgAudio.play():this.bgAudio.pause()},e.prototype.sendJoinRoom=function(){d.Windown.UIManager.showLoading();var t=this.sfs.roomManager.getRoomListFromGroup("LD").find(function(t){return cc.log("value"+t.getVariable("cj").value),t.containsVariable("cj")&&t.getVariable("cj").value});t?(this.roomSFS=t,t.isJoined?this.sendGetInfoRoom():(cc.log("nhay vao send join rom: "+t),this.sfs.send(new SFS2X.JoinRoomRequest(t,null,-1)))):this.scheduleOnce(this.sendJoinRoom,3)},e.prototype.sendGetInfoRoom=function(){},e.prototype.sendRequest=function(t,e){h.ConectManager.getIns().sendRequest(t,e,this.roomSFS)},e.prototype.onDisconnect=function(){cc.log("disconnect"),cc.director.loadScene("main"),this.clear()},e.prototype.userExitRoom=function(t){if("LD"==t.room.groupId&&(cc.log("user exit room LODE"),t.user.isItMe))return this.clear(),void cc.director.loadScene("main")},e.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.objFinish&&(this.objFinish.get("agWin"),d.Windown.MoneyUser.removeDelay(this.gameType)),d.Windown.MoneyUser.endGameMOney(this.gameType)},e.prototype.extResponse=function(t){var e=t.cmd,o=t.params;switch(e){case c.REQUEST_CODE.InfoRoomLoDe:this.handleInfoRoom(o);break;case c.REQUEST_CODE.BetLoDe:this.handleBet(o);break;case c.REQUEST_CODE.LichsuLoDe:this.popupLichSu.setInfo(o);break;default:cc.log("Khong vao Case Nao ca:"+e+"\n",d.Windown.SFSObjToJson(o))}},e.prototype.handleBet=function(t){cc.log("handleBet:"+d.Windown.SFSObjToJson(t)),t.containsKey("status")&&t.getBool("status")?(d.Windown.Dialog.showDialog("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng!"),this.lbBalance.string=d.Windown.formatNumber(t.getLong("ag"))):t.containsKey("errorMessage")&&""!=t.getUtfString("errorMessage")&&d.Windown.Dialog.showDialog(t.getUtfString("errorMessage"))},e.prototype.handleInfoRoom=function(t){this.rateDe=t.getInt("rateDe"),this.rateLo=t.getInt("rateLo"),this.rate3Cang=t.getInt("rate3Cang"),this.rateLoXien2=t.getInt("rateLoXien2"),this.rateLoXien3=t.getInt("rateLoXien3"),this.rateLoXien4=t.getInt("rateLoXien4"),this.priceDe=t.getInt("priceDe"),this.priceLo=t.getInt("priceLo"),this.price3Cang=t.getInt("price3Cang"),this.priceLoXien2=t.getInt("priceLoXien2"),this.priceLoXien3=t.getInt("priceLoXien3"),this.priceLoXien4=t.getInt("priceLoXien4")},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),d.Windown.UIManager.hideLoading(),d.Windown.Dialog.showLog(l.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;cc.log("onJoinRoom :",t),"LD"==e.groupId&&(cc.log("r\xf4m lak "+e.id),d.Windown.UIManager.hideLoading())},e.prototype.setInfoView=function(){this.lbBalance.string=d.Windown.formatNumber(d.Windown.User.userAg),this.dateToday.getHours()<18||18==this.dateToday.getHours()&&this.dateToday.getMinutes()<30?this.lbToday.string=this.dateToday.getDate()+"-"+(this.dateToday.getMonth()+1):this.lbToday.string=this.dateToday.getDate()+1+"-"+(this.dateToday.getMonth()+1)},e.prototype.getInfoThongKe=function(){var t=this,e="https://api.vgjt.info/ld3m/lotte/stats?city_id=1&size="+this.sizeTK;u.default.get(e,{},function(e,o){null!=e?cc.log("Respone Errr =",e):(t.dataTK=o,t.setInfoTK())})},e.prototype.setInfoTK=function(){for(var t=this.dataTK[this.typeTK],e=this.nodeThongKe.getChildByName("NumberContainer"),o=0,n=t.length;o<n;o++)e.children[o].getChildByName("iconChange").active=!1,e.children[o].getChildByName("lbChange").active=!1,e.children[o].getChildByName("lbNum").getComponent(cc.Label).string=t[o].number,e.children[o].getChildByName("lbTurn").getComponent(cc.Label).string=t[o].count+" l\u1ea7n","not"!=this.typeTK&&(e.children[o].getChildByName("iconChange").active=!0,e.children[o].getChildByName("lbChange").active=!0,e.children[o].getChildByName("lbChange").color="less"==this.typeTK?cc.Color.RED:cc.Color.GREEN,e.children[o].getChildByName("iconChange").getComponent(cc.Sprite).spriteFrame="less"==this.typeTK?this.sprUpDown[1]:this.sprUpDown[0],e.children[o].getChildByName("lbChange").getComponent(cc.Label).string=t[o].change)},e.prototype.getResult=function(t,e,o){var n,i=this,r="https://api.vgjt.info/ld3m/lotte/results?date=%s&city=1";n=t+"-"+e+"-"+o,this.lbDateCurrentResult.string=(t<10?"0"+t:t)+"-"+(e+1<10?"0"+e:e),r=cc.js.formatStr(r,n),u.default.get(r,{},function(t,e){if(null!=t)cc.log("Respone Errr =",t);else if(cc.log("Respone Result =",e),e.success){var o=e.rows;if(null!=o.result){i.result=o.result,i.lbGiaiDB.string=o.result.special,i.lbGiaiNhat.string=o.result.prize1;var n=o.result.prize2.split("-");i.lbGiai2.forEach(function(t,e){t.string=n[e]});var r=o.result.prize3.split("-");i.lbGiai3.forEach(function(t,e){t.string=r[e]});var a=o.result.prize4.split("-");i.lbGiai4.forEach(function(t,e){t.string=a[e]});var s=o.result.prize5.split("-");i.lbGiai5.forEach(function(t,e){t.string=s[e]});var c=o.result.prize6.split("-");i.lbGiai6.forEach(function(t,e){t.string=c[e]});var l=o.result.prize7.split("-");i.lbGiai7.forEach(function(t,e){t.string=l[e]})}else i.lbGiaiDB.string="",i.lbGiaiNhat.string="",i.lbGiai2.forEach(function(t){t.string=""}),i.lbGiai3.forEach(function(t){t.string=""}),i.lbGiai4.forEach(function(t){t.string=""}),i.lbGiai5.forEach(function(t){t.string=""}),i.lbGiai6.forEach(function(t){t.string=""}),i.lbGiai7.forEach(function(t){t.string=""})}})},e.prototype.onClickChangeTypeResult=function(t,e){var o=this,n=0;"full"==e?n=0:"two"==e?n=2:"three"==e&&(n=3),this.lbGiaiDB.string=this.setResultLabel(this.result.special,0==n?this.result.special.length:n),this.lbGiaiNhat.string=this.setResultLabel(this.result.prize1,0==n?this.result.special.length:n);var i=this.result.prize2.split("-");this.lbGiai2.forEach(function(t,e){t.string=o.setResultLabel(i[e],0==n?i[e].length:n)});var r=this.result.prize3.split("-");this.lbGiai3.forEach(function(t,e){t.string=o.setResultLabel(r[e],0==n?r[e].length:n)});var a=this.result.prize4.split("-");this.lbGiai4.forEach(function(t,e){t.string=o.setResultLabel(a[e],0==n?a[e].length:n)});var s=this.result.prize5.split("-");this.lbGiai5.forEach(function(t,e){t.string=o.setResultLabel(s[e],0==n?s[e].length:n)});var c=this.result.prize6.split("-");this.lbGiai6.forEach(function(t,n){t.string="three"==e||"full"==e?c[n]:o.setResultLabel(c[n],2)});var l=this.result.prize7.split("-");this.lbGiai7.forEach(function(t,e){t.string=l[e]})},e.prototype.setResultLabel=function(t,e){return(t=t.trim()).substring(t.length-e,t.length)},e.prototype.onClickTabTypeBet=function(t,e){this.nodeBetDe.active=this.nodeBetLo.active=this.nodeBaCang.active=this.nodeLoXien.active=!1;var o="<color=#FFFFFF>Thanh to\xe1n </c><color=#FFEE2E>1</color><color=#FFFFFF> l\xf4. \u0110\u1eb7t </color><color=#FFEE2E>1</color><color=#FFFFFF> \u0103n </color><color=#FFEE2E>%s</color>";switch(e){case"De":this.nodeBetDe.active=!0,this.typeBet=v.De,this.edbNumberBet=this.nodeBetDe.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"Lo":this.nodeBetLo.active=!0,this.typeBet=v.Lo,this.edbNumberBet=this.nodeBetLo.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"BaCang":this.nodeBaCang.active=!0,this.typeBet=v.BaCang,this.edbNumberBet=this.nodeBaCang.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien":this.nodeLoXien.active=!0,this.typeBet=v.LoXien2,cc.find("ButtonContainer/tgleXien2",this.nodeLoXien).getComponent(cc.Toggle).isChecked=!0,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(o,this.rateLoXien2),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien2":this.nodeLoXien.active=!0,this.typeBet=v.LoXien2,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(o,this.rateLoXien2),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien3":this.nodeLoXien.active=!0,this.typeBet=v.LoXien3,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(o,this.rateLoXien3),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien4":this.nodeLoXien.active=!0,this.typeBet=v.LoXien4,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(o,this.rateLoXien4),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox)}this.edbPrice.initInfo(),this.edbTotalBet.initInfo()},e.prototype.onClickTabKQTK=function(t,e){this.nodeThongKe.active="TK"==e,this.nodeResult.active="KQ"==e},e.prototype.onClickChangeTypeTK=function(t,e){this.typeTK=e,this.setInfoTK()},e.prototype.onClickChangeSizeTK=function(t,e){this.sizeTK=parseInt(e),this.getInfoThongKe(),this.tglChangeSizeTK.isChecked=!1,this.nodeThongKe.getChildByName("lbSoKy").getComponent(cc.Label).string=this.sizeTK+" K\u1ef3"},e.prototype.openDatePicker=function(){var t=this;this.datePickerResult.node.active?cc.tween(this.datePickerResult.node.getChildByName("Bkg")).to(.3,{scaleY:0},{easing:cc.easing.backIn}).call(function(){t.datePickerResult.node.active=!1}).start():(this.datePickerResult.node.active=!0,cc.tween(this.datePickerResult.node.getChildByName("Bkg")).set({scaleY:0}).to(.3,{scaleY:1},{easing:cc.easing.backOut}).start())},e.prototype.onClickDatCuoc=function(){var t=this,e=this.edbNumberBet.getComponent(g.default).listNumber;if(0!=e.length){var o=1e3*this.edbTotalBet.getNumberValue(),n=1e3*this.edbPrice.getNumberValue();if(d.Windown.User.userAg<o)d.Windown.UIManager.showAlertMini("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7. Vui l\xf2ng n\u1ea1p th\xeam!");else if(this.typeBet==v.LoXien2&&e.length<2||this.typeBet==v.LoXien3&&e.length<3||this.typeBet==v.LoXien4&&e.length<4)d.Windown.UIManager.showAlertMini("Ch\u01b0a \u0111\u1ee7 s\u1ed1 \u0111\u1ec3 \u0111\u1eb7t c\u01b0\u1ee3c l\xf4 xi\xean!");else{this.popupConfirm.node.active=!0;var i=this.lbToday.string+"-"+this.dateToday.getFullYear();cc.log("totalWinPerNum=="+this.totalWinPerNum),this.popupConfirm.setInfo(i,this.typeBet,this.edbNumberBet.string,n,o,this.totalWinPerNum,function(){var n=h.ConectManager.getIns().getSFSObj(),i=t.getTypeBetRequest();n.putInt("type",i),n.putLong("tiencuoc",o),n.putIntArray("danhsachsocuoc",e),t.sendRequest(c.REQUEST_CODE.BetLoDe,n)})}}else d.Windown.UIManager.showAlertMini("Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111\u1ec1!")},e.prototype.onConfirmBet=function(){},e.prototype.getTypeBetRequest=function(){var t=0;switch(this.typeBet){case v.De:t=1;break;case v.Lo:t=0;break;case v.BaCang:t=2;break;case v.LoXien2:case v.LoXien3:case v.LoXien4:t=3}return t},e.prototype.onShowSetting=function(){this.nodeSetting.active=!0,cc.tween(this.nodeSetting).set({x:-cc.winSize.width/2-this.nodeSetting.width}).to(.2,{x:-cc.winSize.width/2},{easing:cc.easing.sineIn}).start()},e.prototype.onHideSetting=function(){cc.tween(this.nodeSetting).to(.2,{x:-cc.winSize.width/2-this.nodeSetting.width},{easing:cc.easing.sineOut}).start()},e.prototype.onClickBack=function(){try{h.ConectManager.getIns().sendLeaveRoom(this.roomSFS),cc.log("Send Leave Room")}catch(t){this.clear(),cc.director.loadScene("main")}},e.prototype.onClickLichSu=function(){cc.isValid(this.popupLichSu)&&(this.popupLichSu.node.active=!0,this.popupLichSu.show())},r([m(cc.AudioSource)],e.prototype,"bgAudio",void 0),r([m(cc.Node)],e.prototype,"nodeBetLo",void 0),r([m(cc.Node)],e.prototype,"nodeBetDe",void 0),r([m(cc.Node)],e.prototype,"nodeBaCang",void 0),r([m(cc.Node)],e.prototype,"nodeLoXien",void 0),r([m(cc.Node)],e.prototype,"nodeResult",void 0),r([m(cc.Node)],e.prototype,"nodeThongKe",void 0),r([m([cc.Node])],e.prototype,"listNodeNumTK",void 0),r([m(cc.Node)],e.prototype,"nodeSetting",void 0),r([m(cc.Toggle)],e.prototype,"tglChangeSizeTK",void 0),r([m(a.default)],e.prototype,"datePickerResult",void 0),r([m(b.default)],e.prototype,"popupLichSu",void 0),r([m(g.default)],e.prototype,"edbPrice",void 0),r([m(g.default)],e.prototype,"edbTotalBet",void 0),r([m(f.default)],e.prototype,"popupConfirm",void 0),r([m(cc.EditBox)],e.prototype,"edbNumberBet",void 0),r([m(cc.Label)],e.prototype,"lbBalance",void 0),r([m(cc.Label)],e.prototype,"lbToday",void 0),r([m(cc.Label)],e.prototype,"lbPriceBet",void 0),r([m(cc.Label)],e.prototype,"lbTotalBet",void 0),r([m(cc.Label)],e.prototype,"lbTotalWin",void 0),r([m(cc.Label)],e.prototype,"lbDateCurrentResult",void 0),r([m(cc.Label)],e.prototype,"lbGiaiDB",void 0),r([m(cc.Label)],e.prototype,"lbGiaiNhat",void 0),r([m([cc.Label])],e.prototype,"lbGiai2",void 0),r([m([cc.Label])],e.prototype,"lbGiai3",void 0),r([m([cc.Label])],e.prototype,"lbGiai4",void 0),r([m([cc.Label])],e.prototype,"lbGiai5",void 0),r([m([cc.Label])],e.prototype,"lbGiai6",void 0),r([m([cc.Label])],e.prototype,"lbGiai7",void 0),r([m([cc.SpriteFrame])],e.prototype,"sprUpDown",void 0),r([L],e)}(cc.Component);o.default=C,cc._RF.pop()},{"../../../DevDatePicker/DevDatePicker":void 0,"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Network/Http":void 0,"../../../Scritps/Windown":void 0,"./EdbLoDeController":"EdbLoDeController","./LichSuLoDe":"LichSuLoDe","./LoDeConfirmPopup":"LoDeConfirmPopup"}]},{},["EdbLoDeController","ItemLichSuLoDe","LichSuLoDe","LoDeConfirmPopup","LoDeController","LoDeView"]);